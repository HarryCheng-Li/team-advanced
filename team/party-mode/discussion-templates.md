# Party Mode 讨论模板

## 1. 架构选型讨论

### 触发场景
- Monolith vs Microservices
- SQL vs NoSQL
- 自建 vs SaaS

### 讨论模板

```markdown
# 架构选型讨论: {主题}

## 背景
{背景描述}

## 候选方案
1. **方案 A**: {描述}
2. **方案 B**: {描述}

## 评估矩阵
| 维度 | 方案 A | 方案 B | 权重 |
|------|--------|--------|------|
| 开发效率 | /5 | /5 | 30% |
| 运维复杂度 | /5 | /5 | 20% |
| 扩展性 | /5 | /5 | 20% |
| 成本 | /5 | /5 | 15% |
| 团队熟悉度 | /5 | /5 | 15% |

## 角色观点

### Architect (Winston)
从架构角度，我认为...

### Product Owner (Mary)
从用户角度，我认为...

### Tech Lead (John)
从团队角度，我认为...

### Backend Developer (Amelia)
从实现角度，我认为...

## 共识点
1. ...
2. ...

## 分歧点
1. ...
2. ...

## 最终决策
选择: {方案}
理由: {理由}

## 后续行动
- [ ] {行动1}
- [ ] {行动2}
```

---

## 2. 技术栈选择讨论

### 触发场景
- 前端框架选择
- 后端语言选择
- 数据库选择

### 讨论模板

```markdown
# 技术栈选择: {主题}

## 需求背景
{需求描述}

## 候选技术
| 技术 | 优势 | 劣势 |
|------|------|------|
| {Tech A} | ... | ... |
| {Tech B} | ... | ... |

## 评估
### 生态系统
- {Tech A}: {评分}
- {Tech B}: {评分}

### 学习曲线
- {Tech A}: {评分}
- {Tech B}: {评分}

### 性能表现
- {Tech A}: {评分}
- {Tech B}: {评分}

### 团队经验
- {Tech A}: {评分}
- {Tech B}: {评分}

## 角色观点

### Frontend/Backend Developer
...

### Architect
...

### Tech Lead
...

## 决策
选择: {技术}
理由: {理由}

## 学习计划
| 阶段 | 内容 | 时间 |
|------|------|------|
| ... | ... | ... |
```

---

## 3. 重大重构决策讨论

### 触发场景
- 大规模代码重构
- 架构升级
- 技术债务清理

### 讨论模板

```markdown
# 重构决策讨论: {主题}

## 当前问题
1. {问题1}
2. {问题2}

## 重构方案
{方案描述}

## 影响分析
| 影响项 | 风险 | 缓解措施 |
|--------|------|----------|
| ... | ... | ... |

## 角色观点

### Architect
...

### Tech Lead
...

### Backend/Frontend Developer
...

### QA Verifier
...

## 决策
- [ ] 执行重构
- [ ] 延后重构
- [ ] 采用替代方案

## 执行计划
1. {步骤1}
2. {步骤2}

## 回滚方案
{回滚策略}
```

---

## 4. 安全策略讨论

### 触发场景
- 认证方案设计
- 数据保护策略
- 权限模型设计

### 讨论模板

```markdown
# 安全策略讨论: {主题}

## 安全需求
1. {需求1}
2. {需求2}

## 威胁模型
| 威胁 | 概率 | 影响 | 对策 |
|------|------|------|------|
| ... | ... | ... | ... |

## 候选方案
1. **方案 A**: {描述}
2. **方案 B**: {描述}

## 角色观点

### Security Reviewer
...

### Architect
...

### Backend Developer
...

### Product Owner
...

## 决策
选择: {方案}

## 安全检查清单
- [ ] {检查项1}
- [ ] {检查项2}
```

---

## 5. Sprint 回顾讨论

### 触发场景
- Sprint 结束
- 里程碑完成
- 项目阶段总结

### 讨论模板

```markdown
# Sprint 回顾: Sprint {number}

## Sprint 目标
{目标描述}

## 完成情况
| 目标 | 状态 | 备注 |
|------|------|------|
| ... | ✅/❌ | ... |

## 讨论环节

### 做得好的 (What went well)
- Product Owner: ...
- Tech Lead: ...
- Developer: ...

### 需要改进的 (What to improve)
- Product Owner: ...
- Tech Lead: ...
- Developer: ...

### 行动项 (Action items)
| 行动 | 负责人 | 截止 |
|------|--------|------|
| ... | ... | ... |

## 下个 Sprint 展望
{展望}
```

---

## 6. 故障复盘讨论

### 触发场景
- 生产事故
- 重大 Bug
- 性能问题

### 讨论模板

```markdown
# 故障复盘: {故障名称}

## 故障概述
- 时间: {timestamp}
- 影响: {impact}
- 持续时间: {duration}

## 时间线
| 时间 | 事件 |
|------|------|
| ... | ... |

## 根因分析
{根因描述}

## 角色观点

### Bug Hunter
...

### Backend/Frontend Developer
...

### QA Verifier
...

### Tech Lead
...

## 改进措施
| 措施 | 类型 | 负责人 |
|------|------|--------|
| ... | 预防/检测/响应 | ... |

## 经验总结
{总结}
```

---

## 使用说明

1. 选择合适的模板
2. 邀请相关角色参与
3. 按流程进行讨论
4. 记录关键观点和决策
5. 生成行动计划

## 自定义模板

可以在 `.claude/customize.yaml` 中添加自定义模板：

```yaml
party_mode:
  templates:
    custom_discussion:
      name: "自定义讨论"
      roles:
        - architect
        - product-owner
      sections:
        - 背景
        - 观点
        - 决策
```

## 相关参考

- **Party Mode 规则**: [party-mode.md](party-mode.md)
- **角色定义**: [../references/roles.md](../references/roles.md)
